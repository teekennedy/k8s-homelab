{
   "apiVersion": "v1",
   "data": {
      "prometheus.json": "{\n\"panels\": [\n{\n\"collapsed\": false,\n\"gridPos\": {\n\"h\": 1,\n\"w\": 24,\n\"x\": 0,\n\"y\": 0\n},\n\"id\": 1,\n\"panels\": [\n\n],\n\"title\": \"Prometheus Stats\",\n\"type\": \"row\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"fieldConfig\": {\n\"defaults\": {\n\"decimals\": 2,\n\"displayName\": \"\",\n\"unit\": \"short\"\n},\n\"overrides\": [\n{\n\"matcher\": {\n\"id\": \"byName\",\n\"options\": \"Time\"\n},\n\"properties\": [\n{\n\"id\": \"displayName\",\n\"value\": \"Time\"\n},\n{\n\"id\": \"custom.align\",\n\"value\": null\n},\n{\n\"id\": \"custom.hidden\",\n\"value\": \"true\"\n}\n]\n},\n{\n\"matcher\": {\n\"id\": \"byName\",\n\"options\": \"cluster\"\n},\n\"properties\": [\n{\n\"id\": \"custom.align\",\n\"value\": null\n},\n{\n\"id\": \"unit\",\n\"value\": \"short\"\n},\n{\n\"id\": \"decimals\",\n\"value\": 2\n}\n]\n},\n{\n\"matcher\": {\n\"id\": \"byName\",\n\"options\": \"job\"\n},\n\"properties\": [\n{\n\"id\": \"custom.align\",\n\"value\": null\n},\n{\n\"id\": \"unit\",\n\"value\": \"short\"\n},\n{\n\"id\": \"decimals\",\n\"value\": 2\n},\n{\n\"id\": \"displayName\",\n\"value\": \"Job\"\n}\n]\n},\n{\n\"matcher\": {\n\"id\": \"byName\",\n\"options\": \"instance\"\n},\n\"properties\": [\n{\n\"id\": \"displayName\",\n\"value\": \"Instance\"\n},\n{\n\"id\": \"custom.align\",\n\"value\": null\n},\n{\n\"id\": \"unit\",\n\"value\": \"short\"\n},\n{\n\"id\": \"decimals\",\n\"value\": 2\n}\n]\n},\n{\n\"matcher\": {\n\"id\": \"byName\",\n\"options\": \"version\"\n},\n\"properties\": [\n{\n\"id\": \"displayName\",\n\"value\": \"Version\"\n},\n{\n\"id\": \"custom.align\",\n\"value\": null\n},\n{\n\"id\": \"unit\",\n\"value\": \"short\"\n},\n{\n\"id\": \"decimals\",\n\"value\": 2\n}\n]\n},\n{\n\"matcher\": {\n\"id\": \"byName\",\n\"options\": \"Value #A\"\n},\n\"properties\": [\n{\n\"id\": \"displayName\",\n\"value\": \"Count\"\n},\n{\n\"id\": \"custom.align\",\n\"value\": null\n},\n{\n\"id\": \"unit\",\n\"value\": \"short\"\n},\n{\n\"id\": \"decimals\",\n\"value\": 2\n},\n{\n\"id\": \"custom.hidden\",\n\"value\": \"true\"\n}\n]\n},\n{\n\"matcher\": {\n\"id\": \"byName\",\n\"options\": \"Value #B\"\n},\n\"properties\": [\n{\n\"id\": \"displayName\",\n\"value\": \"Uptime\"\n},\n{\n\"id\": \"custom.align\",\n\"value\": null\n},\n{\n\"id\": \"unit\",\n\"value\": \"s\"\n}\n]\n}\n]\n},\n\"gridPos\": {\n\"h\": 7,\n\"w\": 24,\n\"x\": 0,\n\"y\": 1\n},\n\"id\": 2,\n\"pluginVersion\": \"v11.4.0\",\n\"targets\": [\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"count by (job, instance, version) (prometheus_build_info{job=~\\\"$job\\\", instance=~\\\"$instance\\\"})\",\n\"format\": \"table\",\n\"instant\": true,\n\"legendFormat\": \"\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"max by (job, instance) (time() - process_start_time_seconds{job=~\\\"$job\\\", instance=~\\\"$instance\\\"})\",\n\"format\": \"table\",\n\"instant\": true,\n\"legendFormat\": \"\"\n}\n],\n\"title\": \"Prometheus Stats\",\n\"type\": \"table\"\n},\n{\n\"collapsed\": false,\n\"gridPos\": {\n\"h\": 1,\n\"w\": 24,\n\"x\": 0,\n\"y\": 8\n},\n\"id\": 3,\n\"panels\": [\n\n],\n\"title\": \"Discovery\",\n\"type\": \"row\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"fieldConfig\": {\n\"defaults\": {\n\"custom\": {\n\"fillOpacity\": 10,\n\"showPoints\": \"never\"\n},\n\"min\": 0,\n\"unit\": \"ms\"\n}\n},\n\"gridPos\": {\n\"h\": 7,\n\"w\": 12,\n\"x\": 0,\n\"y\": 9\n},\n\"id\": 4,\n\"options\": {\n\"tooltip\": {\n\"mode\": \"multi\",\n\"sort\": \"desc\"\n}\n},\n\"pluginVersion\": \"v11.4.0\",\n\"targets\": [\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"sum(rate(prometheus_target_sync_length_seconds_sum{job=~\\\"$job\\\",instance=~\\\"$instance\\\"}[5m])) by (scrape_job) * 1e3\",\n\"format\": \"time_series\",\n\"legendFormat\": \"{{scrape_job}}\"\n}\n],\n\"title\": \"Target Sync\",\n\"type\": \"timeseries\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"fieldConfig\": {\n\"defaults\": {\n\"custom\": {\n\"fillOpacity\": 100,\n\"lineWidth\": 0,\n\"showPoints\": \"never\",\n\"stacking\": {\n\"mode\": \"normal\"\n}\n},\n\"min\": 0,\n\"unit\": \"short\"\n}\n},\n\"gridPos\": {\n\"h\": 7,\n\"w\": 12,\n\"x\": 12,\n\"y\": 9\n},\n\"id\": 5,\n\"options\": {\n\"tooltip\": {\n\"mode\": \"multi\",\n\"sort\": \"desc\"\n}\n},\n\"pluginVersion\": \"v11.4.0\",\n\"targets\": [\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"sum(prometheus_sd_discovered_targets{job=~\\\"$job\\\",instance=~\\\"$instance\\\"})\",\n\"format\": \"time_series\",\n\"legendFormat\": \"Targets\"\n}\n],\n\"title\": \"Targets\",\n\"type\": \"timeseries\"\n},\n{\n\"collapsed\": false,\n\"gridPos\": {\n\"h\": 1,\n\"w\": 24,\n\"x\": 0,\n\"y\": 16\n},\n\"id\": 6,\n\"panels\": [\n\n],\n\"title\": \"Retrieval\",\n\"type\": \"row\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"fieldConfig\": {\n\"defaults\": {\n\"custom\": {\n\"fillOpacity\": 10,\n\"showPoints\": \"never\"\n},\n\"min\": 0,\n\"unit\": \"ms\"\n}\n},\n\"gridPos\": {\n\"h\": 7,\n\"w\": 8,\n\"x\": 0,\n\"y\": 17\n},\n\"id\": 7,\n\"options\": {\n\"tooltip\": {\n\"mode\": \"multi\",\n\"sort\": \"desc\"\n}\n},\n\"pluginVersion\": \"v11.4.0\",\n\"targets\": [\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"rate(prometheus_target_interval_length_seconds_sum{job=~\\\"$job\\\",instance=~\\\"$instance\\\"}[5m]) / rate(prometheus_target_interval_length_seconds_count{job=~\\\"$job\\\",instance=~\\\"$instance\\\"}[5m]) * 1e3\",\n\"format\": \"time_series\",\n\"legendFormat\": \"{{interval}} configured\"\n}\n],\n\"title\": \"Average Scrape Interval Duration\",\n\"type\": \"timeseries\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"fieldConfig\": {\n\"defaults\": {\n\"custom\": {\n\"fillOpacity\": 100,\n\"lineWidth\": 0,\n\"showPoints\": \"never\",\n\"stacking\": {\n\"mode\": \"normal\"\n}\n},\n\"min\": 0,\n\"unit\": \"short\"\n}\n},\n\"gridPos\": {\n\"h\": 7,\n\"w\": 8,\n\"x\": 8,\n\"y\": 17\n},\n\"id\": 8,\n\"options\": {\n\"tooltip\": {\n\"mode\": \"multi\",\n\"sort\": \"desc\"\n}\n},\n\"pluginVersion\": \"v11.4.0\",\n\"targets\": [\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"sum by (job) (rate(prometheus_target_scrapes_exceeded_body_size_limit_total[1m]))\",\n\"format\": \"time_series\",\n\"legendFormat\": \"exceeded body size limit: {{job}}\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"sum by (job) (rate(prometheus_target_scrapes_exceeded_sample_limit_total[1m]))\",\n\"format\": \"time_series\",\n\"legendFormat\": \"exceeded sample limit: {{job}}\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"sum by (job) (rate(prometheus_target_scrapes_sample_duplicate_timestamp_total[1m]))\",\n\"format\": \"time_series\",\n\"legendFormat\": \"duplicate timestamp: {{job}}\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"sum by (job) (rate(prometheus_target_scrapes_sample_out_of_bounds_total[1m]))\",\n\"format\": \"time_series\",\n\"legendFormat\": \"out of bounds: {{job}}\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"sum by (job) (rate(prometheus_target_scrapes_sample_out_of_order_total[1m]))\",\n\"format\": \"time_series\",\n\"legendFormat\": \"out of order: {{job}}\"\n}\n],\n\"title\": \"Scrape failures\",\n\"type\": \"timeseries\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"fieldConfig\": {\n\"defaults\": {\n\"custom\": {\n\"fillOpacity\": 100,\n\"lineWidth\": 0,\n\"showPoints\": \"never\",\n\"stacking\": {\n\"mode\": \"normal\"\n}\n},\n\"min\": 0,\n\"unit\": \"short\"\n}\n},\n\"gridPos\": {\n\"h\": 7,\n\"w\": 8,\n\"x\": 16,\n\"y\": 17\n},\n\"id\": 9,\n\"options\": {\n\"tooltip\": {\n\"mode\": \"multi\",\n\"sort\": \"desc\"\n}\n},\n\"pluginVersion\": \"v11.4.0\",\n\"targets\": [\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"rate(prometheus_tsdb_head_samples_appended_total{job=~\\\"$job\\\",instance=~\\\"$instance\\\"}[5m])\",\n\"format\": \"time_series\",\n\"legendFormat\": \"{{job}} {{instance}}\"\n}\n],\n\"title\": \"Appended Samples\",\n\"type\": \"timeseries\"\n},\n{\n\"collapsed\": false,\n\"gridPos\": {\n\"h\": 1,\n\"w\": 24,\n\"x\": 0,\n\"y\": 24\n},\n\"id\": 10,\n\"panels\": [\n\n],\n\"title\": \"Storage\",\n\"type\": \"row\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"fieldConfig\": {\n\"defaults\": {\n\"custom\": {\n\"fillOpacity\": 100,\n\"lineWidth\": 0,\n\"showPoints\": \"never\",\n\"stacking\": {\n\"mode\": \"normal\"\n}\n},\n\"min\": 0,\n\"unit\": \"short\"\n}\n},\n\"gridPos\": {\n\"h\": 7,\n\"w\": 12,\n\"x\": 0,\n\"y\": 25\n},\n\"id\": 11,\n\"options\": {\n\"tooltip\": {\n\"mode\": \"multi\",\n\"sort\": \"desc\"\n}\n},\n\"pluginVersion\": \"v11.4.0\",\n\"targets\": [\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"prometheus_tsdb_head_series{job=~\\\"$job\\\",instance=~\\\"$instance\\\"}\",\n\"format\": \"time_series\",\n\"legendFormat\": \"{{job}} {{instance}} head series\"\n}\n],\n\"title\": \"Head Series\",\n\"type\": \"timeseries\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"fieldConfig\": {\n\"defaults\": {\n\"custom\": {\n\"fillOpacity\": 100,\n\"lineWidth\": 0,\n\"showPoints\": \"never\",\n\"stacking\": {\n\"mode\": \"normal\"\n}\n},\n\"min\": 0,\n\"unit\": \"short\"\n}\n},\n\"gridPos\": {\n\"h\": 7,\n\"w\": 12,\n\"x\": 12,\n\"y\": 25\n},\n\"id\": 12,\n\"options\": {\n\"tooltip\": {\n\"mode\": \"multi\",\n\"sort\": \"desc\"\n}\n},\n\"pluginVersion\": \"v11.4.0\",\n\"targets\": [\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"prometheus_tsdb_head_chunks{job=~\\\"$job\\\",instance=~\\\"$instance\\\"}\",\n\"format\": \"time_series\",\n\"legendFormat\": \"{{job}} {{instance}} head chunks\"\n}\n],\n\"title\": \"Head Chunks\",\n\"type\": \"timeseries\"\n},\n{\n\"collapsed\": false,\n\"gridPos\": {\n\"h\": 1,\n\"w\": 24,\n\"x\": 0,\n\"y\": 32\n},\n\"id\": 13,\n\"panels\": [\n\n],\n\"title\": \"Query\",\n\"type\": \"row\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"fieldConfig\": {\n\"defaults\": {\n\"custom\": {\n\"fillOpacity\": 100,\n\"lineWidth\": 0,\n\"showPoints\": \"never\",\n\"stacking\": {\n\"mode\": \"normal\"\n}\n},\n\"min\": 0,\n\"unit\": \"short\"\n}\n},\n\"gridPos\": {\n\"h\": 7,\n\"w\": 12,\n\"x\": 0,\n\"y\": 33\n},\n\"id\": 14,\n\"options\": {\n\"tooltip\": {\n\"mode\": \"multi\",\n\"sort\": \"desc\"\n}\n},\n\"pluginVersion\": \"v11.4.0\",\n\"targets\": [\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"rate(prometheus_engine_query_duration_seconds_count{job=~\\\"$job\\\",instance=~\\\"$instance\\\",slice=\\\"inner_eval\\\"}[5m])\",\n\"format\": \"time_series\",\n\"legendFormat\": \"{{job}} {{instance}}\"\n}\n],\n\"title\": \"Query Rate\",\n\"type\": \"timeseries\"\n},\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"fieldConfig\": {\n\"defaults\": {\n\"custom\": {\n\"fillOpacity\": 100,\n\"lineWidth\": 0,\n\"showPoints\": \"never\",\n\"stacking\": {\n\"mode\": \"normal\"\n}\n},\n\"min\": 0,\n\"unit\": \"ms\"\n}\n},\n\"gridPos\": {\n\"h\": 7,\n\"w\": 12,\n\"x\": 12,\n\"y\": 33\n},\n\"id\": 15,\n\"options\": {\n\"tooltip\": {\n\"mode\": \"multi\",\n\"sort\": \"desc\"\n}\n},\n\"pluginVersion\": \"v11.4.0\",\n\"targets\": [\n{\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"$datasource\"\n},\n\"expr\": \"max by (slice) (prometheus_engine_query_duration_seconds{quantile=\\\"0.9\\\",job=~\\\"$job\\\",instance=~\\\"$instance\\\"}) * 1e3\",\n\"format\": \"time_series\",\n\"legendFormat\": \"{{slice}}\"\n}\n],\n\"title\": \"Stage Duration\",\n\"type\": \"timeseries\"\n}\n],\n\"schemaVersion\": 39,\n\"tags\": [\n\"prometheus-mixin\"\n],\n\"templating\": {\n\"list\": [\n{\n\"current\": {\n\"selected\": false,\n\"text\": \"default\",\n\"value\": \"default\"\n},\n\"hide\": 0,\n\"label\": \"Data source\",\n\"name\": \"datasource\",\n\"query\": \"prometheus\",\n\"type\": \"datasource\"\n},\n{\n\"allValue\": \".+\",\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"${datasource}\"\n},\n\"includeAll\": true,\n\"label\": \"job\",\n\"multi\": true,\n\"name\": \"job\",\n\"query\": \"label_values(prometheus_build_info{job=\\\"prometheus\\\"}, job)\",\n\"refresh\": 2,\n\"sort\": 2,\n\"type\": \"query\"\n},\n{\n\"allValue\": \".+\",\n\"datasource\": {\n\"type\": \"prometheus\",\n\"uid\": \"${datasource}\"\n},\n\"includeAll\": true,\n\"label\": \"instance\",\n\"multi\": true,\n\"name\": \"instance\",\n\"query\": \"label_values(prometheus_build_info{job=~\\\"$job\\\"}, instance)\",\n\"refresh\": 2,\n\"sort\": 2,\n\"type\": \"query\"\n}\n]\n},\n\"time\": {\n\"from\": \"now-1h\",\n\"to\": \"now\"\n},\n\"timepicker\": {\n\"refresh_intervals\": [\n\"60s\"\n]\n},\n\"timezone\": \"browser\",\n\"title\": \"Prometheus / Overview\",\n\"uid\": \"9fa0d141-d019-4ad7-8bc5-42196ee308bd\"\n}"
   },
   "kind": "ConfigMap",
   "metadata": {
      "labels": {
         "grafana_dashboard": "1"
      },
      "name": "grafana-dashboard-prometheus",
      "namespace": "monitoring-system"
   }
}
